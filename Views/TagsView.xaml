<UserControl x:Class="PlayCutWin.Views.TagsView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             Background="Transparent">
    <Grid>
        <Border CornerRadius="12" Background="#2B2B2B" BorderBrush="#3A3A3A" BorderThickness="1" Padding="12">
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="*"/>
                </Grid.RowDefinitions>

                <!-- Header -->
                <TextBlock Text="Tags"
                           Foreground="#EDEDED"
                           FontSize="16"
                           FontWeight="SemiBold"/>

                <!-- Selected video path -->
                <TextBlock Grid.Row="1"
                           Text="{Binding SelectedVideoPath}"
                           Foreground="#CFCFCF"
                           FontSize="12"
                           TextTrimming="CharacterEllipsis"
                           Margin="0,8,0,10"/>

                <!-- Input row -->
                <Grid Grid.Row="2" Margin="0,0,0,10">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="90"/>
                        <ColumnDefinition Width="90"/>
                    </Grid.ColumnDefinitions>

                    <TextBox x:Name="TagInput"
                             Grid.Column="0"
                             Height="28"
                             Background="#1F1F1F"
                             Foreground="#EDEDED"
                             BorderBrush="#3A3A3A"
                             BorderThickness="1"
                             Padding="10,4"
                             FontSize="12"
                             KeyDown="TagInput_KeyDown"/>

                    <Button Grid.Column="1"
                            Content="Add"
                            Margin="10,0,0,0"
                            Padding="14,6"
                            Click="AddTag_Click"/>

                    <Button Grid.Column="2"
                            Content="Clear"
                            Margin="10,0,0,0"
                            Padding="14,6"
                            Click="ClearTags_Click"/>
                </Grid>

                <!-- List -->
                <Border Grid.Row="3" CornerRadius="10" Background="#262626" BorderBrush="#3A3A3A" BorderThickness="1" Padding="10">
                    <DataGrid x:Name="TagsGrid"
                              ItemsSource="{Binding Tags}"
                              AutoGenerateColumns="False"
                              CanUserAddRows="False"
                              CanUserDeleteRows="False"
                              HeadersVisibility="Column"
                              GridLinesVisibility="None"
                              Background="Transparent"
                              BorderThickness="0"
                              RowBackground="#262626"
                              AlternatingRowBackground="#242424"
                              Foreground="#EDEDED"
                              FontSize="12"
                              SelectionMode="Single">
                        <DataGrid.Columns>
                            <DataGridTextColumn Header="Time" Binding="{Binding TimeText}" Width="120"/>
                            <DataGridTextColumn Header="Tag" Binding="{Binding Tag}" Width="*"/>
                        </DataGrid.Columns>
                    </DataGrid>
                </Border>

                <!-- Right click / delete hint -->
                <TextBlock Grid.Row="3"
                           VerticalAlignment="Bottom"
                           Margin="4,0,0,2"
                           Foreground="#8F8F8F"
                           FontSize="11"
                           Text="Tip: Select a row and press Delete to remove."
                           IsHitTestVisible="False"/>
            </Grid>
        </Border>
    </Grid>
</UserControl>
