<UserControl x:Class="PlayCutWin.Views.DashboardView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             mc:Ignorable="d"
             Background="{DynamicResource BgWindow}">

    <Grid Margin="{DynamicResource Gap}">
        <Grid.RowDefinitions>
            <RowDefinition Height="*"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="*"/>
            <ColumnDefinition Width="*"/>
        </Grid.ColumnDefinitions>

        <!-- ===================== LEFT TOP : VIDEO ===================== -->
        <Border Grid.Row="0" Grid.Column="0" Style="{DynamicResource PanelBorder}" Margin="0,0,10,10">
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="*"/>
                </Grid.RowDefinitions>

                <!-- Title: Video (16:9) -> ファイル名（長いのでEllipsis） -->
                <TextBlock Grid.Row="0"
                           Style="{DynamicResource H2}"
                           Text="{Binding SelectedVideoDisplayName}"
                           />

                <!-- Team inputs (上部領域の半分くらいの高さ感に) -->
                <Grid Grid.Row="1" Margin="0,10,0,10">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="16"/>
                        <ColumnDefinition Width="*"/>
                    </Grid.ColumnDefinitions>

                    <StackPanel Grid.Column="0">
                        <TextBlock Style="{DynamicResource Small}" Text="Team A" Margin="2,0,0,4"/>
                        <TextBox Style="{DynamicResource TeamTextBox}"
                                 Text="{Binding TeamAName, UpdateSourceTrigger=PropertyChanged}"
                                 />
                    </StackPanel>

                    <StackPanel Grid.Column="2">
                        <TextBlock Style="{DynamicResource Small}" Text="Team B" Margin="2,0,0,4"/>
                        <TextBox Style="{DynamicResource TeamTextBox}"
                                 Text="{Binding TeamBName, UpdateSourceTrigger=PropertyChanged}"
                                 />
                    </StackPanel>
                </Grid>

                <!-- Player area -->
                <Border Grid.Row="2" Style="{DynamicResource InnerBorder}">
                    <!-- 既存が MediaElement / Image / PlayerView などの場合、ここをあなたの現状に合わせて差し替えOK -->
                    <MediaElement x:Name="Player"
                                  LoadedBehavior="Manual"
                                  UnloadedBehavior="Stop"
                                  Stretch="Uniform"/>
                </Border>
            </Grid>
        </Border>

        <!-- ===================== RIGHT TOP : CLIPS ===================== -->
        <Border Grid.Row="0" Grid.Column="1" Style="{DynamicResource PanelBorder}" Margin="10,0,0,10">
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="*"/>
                    <RowDefinition Height="Auto"/>
                </Grid.RowDefinitions>

                <!-- Header row: Clips (Total) + Buttons -->
                <Grid Grid.Row="0">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="Auto"/>
                    </Grid.ColumnDefinitions>

                    <TextBlock Grid.Column="0"
                               Style="{DynamicResource H2}"
                               Text="{Binding ClipsHeaderText}"/>

                    <StackPanel Grid.Column="1" Orientation="Horizontal" VerticalAlignment="Center">
                        <Button Style="{DynamicResource TopButton}" Content="Import CSV" Click="ImportCsv_Click"/>
                        <Button Style="{DynamicResource TopButton}" Content="Export CSV" Click="ExportCsv_Click"/>
                        <Button Style="{DynamicResource TopButton}" Content="Export All" Click="ExportAll_Click"/>
                        <Button Style="{DynamicResource AccentButton}" Content="Load Video" Click="LoadVideo_Click"/>
                    </StackPanel>
                </Grid>

                <!-- Lists -->
                <Border Grid.Row="1" Style="{DynamicResource InnerBorder}" Margin="0,12,0,0">
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="1"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>

                        <StackPanel Grid.Column="0">
                            <TextBlock Style="{DynamicResource H2}" Text="{Binding TeamAClipsHeader}" Margin="0,0,0,6"/>
                            <ListBox ItemsSource="{Binding TeamAClips}" />
                        </StackPanel>

                        <Border Grid.Column="1" Background="#2A2A2A" Margin="10,0"/>

                        <StackPanel Grid.Column="2">
                            <TextBlock Style="{DynamicResource H2}" Text="{Binding TeamBClipsHeader}" Margin="0,0,0,6"/>
                            <ListBox ItemsSource="{Binding TeamBClips}" />
                        </StackPanel>
                    </Grid>
                </Border>

                <!-- Tag stats -->
                <Border Grid.Row="2" Style="{DynamicResource InnerBorder}" Margin="0,10,0,0">
                    <StackPanel>
                        <TextBlock Style="{DynamicResource H2}" Text="Tag Stats"/>
                        <TextBlock Style="{DynamicResource Small}" Text="{Binding TagStatsText}" Margin="0,6,0,0"/>
                    </StackPanel>
                </Border>
            </Grid>
        </Border>

        <!-- ===================== LEFT BOTTOM : CONTROLS ===================== -->
        <Border Grid.Row="1" Grid.Column="0" Style="{DynamicResource PanelBorder}" Margin="0,10,10,0">
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="*"/>
                </Grid.RowDefinitions>

                <TextBlock Grid.Row="0" Style="{DynamicResource H2}" Text="Controls"/>

                <!-- 既存のControls UIがあるなら、ここをそのまま移植してOK（見た目はApp.xaml側で揃う） -->
                <Border Grid.Row="1" Style="{DynamicResource InnerBorder}" Margin="0,12,0,0">
                    <Grid>
                        <!-- ダミー：あなたの既存Controlsを置き換えて使って -->
                        <TextBlock Style="{DynamicResource Small}" Text="(controls area)" VerticalAlignment="Center" HorizontalAlignment="Center"/>
                    </Grid>
                </Border>
            </Grid>
        </Border>

        <!-- ===================== RIGHT BOTTOM : TAGS ===================== -->
        <Border Grid.Row="1" Grid.Column="1" Style="{DynamicResource PanelBorder}" Margin="10,10,0,0">
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="*"/>
                </Grid.RowDefinitions>

                <Grid Grid.Row="0">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="Auto"/>
                    </Grid.ColumnDefinitions>

                    <TextBlock Grid.Column="0" Style="{DynamicResource H2}" Text="Tags"/>
                    <Button Grid.Column="1" Style="{DynamicResource TopButton}" Content="Preferences..." Click="Preferences_Click"/>
                </Grid>

                <!-- あなたの TagsView をここに表示しているなら ContentPresenter に差し替えOK -->
                <Border Grid.Row="1" Style="{DynamicResource InnerBorder}" Margin="0,12,0,0">
                    <TextBlock Style="{DynamicResource Small}" Text="(tags area)" VerticalAlignment="Center" HorizontalAlignment="Center"/>
                </Border>
            </Grid>
        </Border>

    </Grid>
</UserControl>
