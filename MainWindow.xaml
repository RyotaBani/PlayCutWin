<Window x:Class="PlayCutWin.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="PlayCutWin" Width="1400" Height="850"
        Background="#1E1E1E" Foreground="#EEEEEE">
    <Grid Margin="12">
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="420"/>
            <ColumnDefinition Width="12"/>
            <ColumnDefinition Width="*"/>
        </Grid.ColumnDefinitions>

        <!-- LEFT: Clips / Tags -->
        <Border Grid.Column="0" Background="#252526" CornerRadius="10" Padding="10">
            <DockPanel LastChildFill="True">

                <!-- Top buttons -->
                <StackPanel DockPanel.Dock="Top" Orientation="Vertical">
                    <StackPanel Orientation="Horizontal" Margin="0,0,0,8">
                        <Button Content="Load Video" Width="120" Margin="0,0,8,0" Click="LoadVideo_Click"/>
                        <Button Content="Import CSV" Width="120" Margin="0,0,8,0" Click="ImportCsv_Click"/>
                        <Button Content="Export CSV" Width="120" Click="ExportCsv_Click"/>
                    </StackPanel>

                    <StackPanel Orientation="Horizontal" Margin="0,0,0,8">
                        <Button Content="Add Clip (Mark In/Out)" Width="180" Margin="0,0,8,0" Click="AddClip_Click"/>
                        <Button Content="Delete Clip" Width="120" Click="DeleteSelectedClip_Click"/>
                    </StackPanel>

                    <TextBlock Text="Clips" FontSize="16" FontWeight="SemiBold" Margin="0,0,0,6"/>
                </StackPanel>

                <!-- Clip list -->
                <ListView x:Name="ClipList" MouseDoubleClick="ClipList_DoubleClick" Margin="0,0,0,10">
                    <ListView.View>
                        <GridView>
                            <GridViewColumn Header="#" Width="42" DisplayMemberBinding="{Binding Index}"/>
                            <GridViewColumn Header="Start" Width="80" DisplayMemberBinding="{Binding StartText}"/>
                            <GridViewColumn Header="End" Width="80" DisplayMemberBinding="{Binding EndText}"/>
                            <GridViewColumn Header="Team" Width="70" DisplayMemberBinding="{Binding Team}"/>
                            <GridViewColumn Header="Tags" Width="140" DisplayMemberBinding="{Binding TagsText}"/>
                        </GridView>
                    </ListView.View>
                </ListView>

                <!-- Bottom: status -->
                <TextBlock DockPanel.Dock="Bottom" x:Name="StatusText" Text="Ready" Opacity="0.85" TextWrapping="Wrap"/>
            </DockPanel>
        </Border>

        <!-- RIGHT: Player -->
        <Border Grid.Column="2" Background="#252526" CornerRadius="10" Padding="10">
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="*"/>
                    <RowDefinition Height="Auto"/>
                </Grid.RowDefinitions>

                <!-- Header / controls -->
                <StackPanel Grid.Row="0" Orientation="Vertical">
                    <StackPanel Orientation="Horizontal" Margin="0,0,0,8">
                        <Button Content="⏪ -1s" Width="90" Margin="0,0,8,0" Click="SeekMinus1_Click"/>
                        <Button Content="⏩ +1s" Width="90" Margin="0,0,8,0" Click="SeekPlus1_Click"/>
                        <Button Content="Play/Pause" Width="110" Margin="0,0,8,0" Click="PlayPause_Click"/>
                        <Button x:Name="Speed025Button" Content="0.25x" Width="70" Margin="0,0,6,0" Click="Speed025_Click"/>
                        <Button x:Name="Speed05Button" Content="0.5x" Width="70" Margin="0,0,6,0" Click="Speed05_Click"/>
                        <Button x:Name="Speed1Button" Content="1.0x" Width="70" Margin="0,0,6,0" Click="Speed1_Click"/>
                        <Button x:Name="Speed2Button" Content="2.0x" Width="70" Click="Speed2_Click"/>
                    </StackPanel>

                    <Slider x:Name="TimelineSlider"
                            Minimum="0" Maximum="1" Value="0"
                            PreviewMouseDown="TimelineSlider_PreviewMouseDown"
                            PreviewMouseUp="TimelineSlider_PreviewMouseUp"/>
                </StackPanel>

                <!-- Video area -->
                <Grid Grid.Row="1" Background="Black" CornerRadius="10">
                    <MediaElement x:Name="Player"
                                  LoadedBehavior="Manual"
                                  UnloadedBehavior="Manual"
                                  Stretch="Uniform"
                                  MediaOpened="Player_MediaOpened"
                                  MediaFailed="Player_MediaFailed"/>
                    <TextBlock x:Name="VideoHint" Text="No video loaded" Foreground="#AAAAAA"
                               HorizontalAlignment="Center" VerticalAlignment="Center"
                               FontSize="18" FontWeight="SemiBold" Opacity="0.85"/>
                </Grid>

                <!-- Export video -->
                <StackPanel Grid.Row="2" Orientation="Horizontal" HorizontalAlignment="Left" Margin="0,10,0,0">
                    <Button Content="Export All (Video)" Width="170" Margin="0,0,8,0" Click="ExportAll_Click"/>
                    <Button Content="Export Clips (Video)" Width="200" Click="ExportClips_Click"/>
                </StackPanel>
            </Grid>
        </Border>
    </Grid>
</Window>
